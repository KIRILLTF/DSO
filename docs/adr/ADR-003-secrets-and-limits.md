# ADR-003: Управление секретами и лимиты API

## Context
Ключи доступа к медиа-хранилищу и внешним API не должны храниться в коде.
Кроме того, необходимо ограничить время и частоту запросов.

## Decision
- Секреты читаются из `.env` и системных переменных.
- Добавлены таймауты и лимиты запросов.
- При превышении лимита возвращается стандартная ошибка с кодом 429.

## Consequences
+ Исключаем утечку ключей.
+ Предотвращаем DoS-атаки.
– Требуется регулярная ротация переменных окружения.

## Security impact
Закрывает риск R5 (Credential Leak).
Соответствует NFR-05 (Secrets Rotation) и NFR-06 (Reliability).

## Links
- NFR-05, R5
- `tests/test_media_security.py::test_env_loaded`
